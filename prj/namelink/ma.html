<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Card HTML Editor</title>
  <style>
    :root { color-scheme: light; --point-color: #1d4ed8;}
    body { margin:0; font-family: "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#0b1220; }
    .wrap { display:flex; gap:14px; padding:14px; box-sizing:border-box; max-width:1300px; margin:0 auto; }
    .panel {
      width:360px; min-width:320px; max-width:420px;
      background:rgba(255,255,255,0.92);
      border:1px solid rgba(148,163,184,0.35);
      border-radius:18px;
      box-shadow:0 18px 50px rgba(0,0,0,0.35);
      overflow:hidden;
      position:sticky; top:14px; align-self:flex-start;
    }
    .panel header{
      padding:14px 14px 10px 14px; background:linear-gradient(135deg,#111827,#0b1220);
      color:#fff; font-weight:900; letter-spacing:0.5px;
    }
    .panel header small{ display:block; opacity:0.75; font-weight:600; margin-top:4px; }
    .panel .body { padding:12px 12px 14px 12px; box-sizing:border-box; }
    .row { display:flex; gap:8px; align-items:center; margin:8px 0; }
    .row label { flex: 0 0 102px; font-size:12px; color:#111827; font-weight:800; }
    .row input, .row textarea {
      flex:1 1 auto;
      font-size:12px; padding:8px 10px; border-radius:12px;
      border:1px solid rgba(148,163,184,0.7);
      background:#fff; outline:none;
    }
    .row textarea { resize:vertical; min-height:64px; }
    .btns { display:flex; gap:8px; margin-top:10px; }
    button{
      flex:1 1 auto;
      border:0; border-radius:12px; padding:10px 12px;
      font-weight:900; cursor:pointer;
      background:#111827; color:#fff;
      box-shadow:0 10px 20px rgba(15,23,42,0.25);
    }
    button.secondary{ background:#334155; }
    button:active{ transform: translateY(1px); }
    .hint{
      margin-top:10px; padding:10px 10px; border-radius:12px;
      background:rgba(2,6,23,0.06); color:#0f172a; font-size:12px; line-height:1.5;
      border:1px dashed rgba(148,163,184,0.9);
    }

    .stage {
      flex:1 1 auto;
      border-radius:18px;
      background: radial-gradient(circle at top, rgba(255,255,255,0.10), rgba(255,255,255,0.02));
      border:1px solid rgba(148,163,184,0.18);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06);
      padding:12px; box-sizing:border-box;
      overflow:auto;
    }
    .stageTop {
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      margin-bottom:10px;
    }
    .badge {
      padding:8px 10px; border-radius:999px;
      background:rgba(255,255,255,0.10);
      border:1px solid rgba(148,163,184,0.28);
      color:#e5e7eb; font-size:12px; font-weight:800;
    }
    .dangerNote { color:#cbd5e1; font-size:12px; opacity:0.85; }
    .previewShell {
      background:rgba(255,255,255,0.96);
      border-radius:18px;
      padding:12px;
      box-shadow:0 18px 60px rgba(0,0,0,0.32);
    }

    /* contenteditable UX */
    [contenteditable="true"] { outline:none; }
    [contenteditable="true"]:focus {
      box-shadow: 0 0 0 2px rgba(59,130,246,0.35);
      border-radius:10px;
    }
    .editableHint {
      position:absolute; right:10px; bottom:10px;
      font-size:10px; color:rgba(255,255,255,0.8);
      background:rgba(2,6,23,0.55);
      border:1px solid rgba(148,163,184,0.35);
      padding:4px 8px; border-radius:999px;
      pointer-events:none;
    }
    .toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:rgba(17,24,39,0.92); color:#fff;
      padding:10px 12px; border-radius:999px;
      border:1px solid rgba(148,163,184,0.35);
      box-shadow:0 14px 40px rgba(0,0,0,0.45);
      font-weight:900; font-size:12px;
      opacity:0; pointer-events:none;
      transition: opacity .18s ease;
    }
    .toast.on{ opacity:1; }
    @media (max-width: 900px){
  .wrap{
    flex-direction: column;
    gap: 12px;
  }
  .panel{
    position: relative;
    top: 0;
    width: 100%;
    max-width: none;
    min-width: 0;
  }
  .stage{
    width: 100%;
  }
}

  </style>
</head>
<body>

<div class="wrap">
  <aside class="panel">
    <header>
      ê³µìœ ìš© ì¹´ë“œ í¸ì§‘ê¸° âœï¸
      <small>ì´ë¯¸ì§€ URL + ì´ëª¨ì§€ ë³€ê²½ + ê²°ê³¼ HTML ë³µì‚¬</small>
    </header>
    <div class="body">
      <div class="row">
        <label>ìƒë‹¨ ë°°ê²½</label>
        <input id="inFacadeBg" placeholder="https://... (FACADE ìƒë‹¨ ë°°ê²½ ì´ë¯¸ì§€ URL)" />
      </div>
      <div class="row">
        <label>FACADE íƒ€ì´í‹€</label>
        <input id="inFacadeTitle" placeholder="FACADE" />
      </div>

      <div class="row">
        <label>ì¹´ë“œ GIF íŒ¨í„´</label>
        <input id="inPatternGif" placeholder="https://... (í…Œë‘ë¦¬ íŒ¨í„´ gif)" />
      </div>

      <div class="row">
        <label>í”„ë¡œí•„ ë°°ê²½</label>
        <input id="inProfileBg" placeholder="https://... (í”„ë¡œí•„ ì¹´ë“œ ë°°ê²½ ì´ë¯¸ì§€)" />
      </div>

      <div class="row">
        <label>ìºë¦­í„° ì´ë¯¸ì§€</label>
        <input id="inCharImg" placeholder="https://... (ìºë¦­í„° png/jpg)" />
      </div>

      <div class="row">
        <label>ì¤‘ì•™ ì‹¬ë³¼</label>
        <input id="inSymbolBg" placeholder="https://... (ì¤‘ì•™ ë¬¸ì–‘/ì‹¬ë³¼ ì´ë¯¸ì§€)" />
      </div>

      <div class="row">
        <label>ì´ëª¨ì§€ 1</label>
        <input id="inEmoji1" placeholder="ğŸ’¦" />
      </div>
      <div class="row">
        <label>ì´ëª¨ì§€ 2</label>
        <input id="inEmoji2" placeholder="ğŸ¬" />
      </div>
      <div class="row">
        <label>ì´ëª¨ì§€ 3</label>
        <input id="inEmoji3" placeholder="ğŸ " />
      </div>

      <div class="btns">
        <button id="btnCopy">ì „ì²´ HTML ë³µì‚¬</button>
        <button id="btnReset" class="secondary">ë¦¬ì…‹</button>
        <div class="btns">
            <button id="btnTogglePoint" class="secondary">í¬ì¸íŠ¸ì»¬ëŸ¬: BLUE</button>
          </div>          
      </div>

      <div class="hint">
        âœ… í…ìŠ¤íŠ¸ëŠ” ì˜¤ë¥¸ìª½ ì¹´ë“œì—ì„œ <b>ì§ì ‘ í´ë¦­ í›„ íƒ€ì´í•‘</b><br>
        âœ… Enter ì¹˜ë©´ ìë™ìœ¼ë¡œ <code>&lt;br&gt;</code> ë“¤ì–´ê°<br>
        âœ… ë³µì‚¬ëŠ” â€œê²°ê³¼ë¬¼ ì¹´ë“œ HTMLâ€ë§Œ ë³µì‚¬ë¨ (ì—ë””í„° UI ì œì™¸)
      </div>
    </div>
  </aside>

  <main class="stage">
    <div class="stageTop">
      <div class="badge">ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°</div>
      <div class="dangerNote">ì¹´ë“œ ì•ˆì˜ ê¸€ì€ ì—¬ê¸°ì„œ ë°”ë¡œ ìˆ˜ì •í•´ë„ ë¨ âœ¨</div>
    </div>

    <div class="previewShell">
      <!-- ====== EXPORT TARGET START ====== -->
      <div id="exportRoot">

        <div style="width:100%;margin-top:20px;margin-bottom:20px;border-radius:22px;overflow:hidden;background:#ffffff;box-shadow:0 18px 40px rgba(0,0,0,0.18);">
          <div style="position: relative;">
            <div style="position:relative;width:100%;aspect-ratio:16/9;margin-bottom:20px;overflow:hidden;">
              <div id="facadeBg" style="position:absolute;inset:0;background:url('https://cdn.caveduck.io/cdn-cgi/image/dpr=2,f=auto,w=800/charim/e75c48c5-b0ea-4849-92fc-c517ba2d528c?v=3c3a2e') center/cover no-repeat;"></div>
              <div style="position:absolute;left:-40%;top:-46%;width:180%;height:100%;background:linear-gradient(to bottom, rgba(0, 0, 0, 0.666) 0%, rgba(0, 0, 0, 0)100%);transform:rotate(-30deg);pointer-events:none;"></div>
              <div style="position:absolute;left:-40%;bottom:-19%;width:180%;height:20%;background:#000;transform:rotate(-30deg);pointer-events:none;"></div>

              <div id="facadeTitle" contenteditable="true"
                   style="position:absolute;bottom:17%;right:4%;color:#fbbf24;font-size:6vmax;font-weight:800;letter-spacing:0.5px;font-family:Impact, sans-serif;text-shadow:-1px 0 #ffffff,1px 0 #000,0 1px #000,0 -1px #000,0 0 6px rgba(251,191,36,0.8);">
                FACADE
              </div>
              <div class="editableHint">ì—¬ê¸°ë¶€í„° í´ë¦­í•˜ê³  ìˆ˜ì •</div>
            </div>
            <div style="position:absolute;left:0;right:0;bottom:0;height:10%;background:linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,0.6) 55%, #ffffff 100%);pointer-events:none;"></div>
          </div>

          <div style="padding:22px 20px 26px 20px;box-sizing:border-box;background:#ffffff;">
            <div id="facadeText" contenteditable="true"
                 style="font-size:14px;line-height:1.6;color:#1f2937;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,0.25);">
              ë‚´ ì˜¤ë¥¸ìª½ ì˜†êµ¬ë¦¬<br>
              í•œë•Œ ë‹¹ì‹ ì˜ <span style="background:linear-gradient(to top, rgba(255,59,59,0.45) 55%, transparent 55%);padding:0 2px;">ì´ë¦„</span>ì´ ë¨¸ë¬¼ë €ë˜ ìë¦¬ì— ë‹¤ë¥¸ ì´ë¦„ì´ ìƒˆê²¨ì¡Œë‹¤.<br><br>
              ë‹¹ì‹ ì˜ ì´ë¦„ì´ ì˜…ì–´ì§€ê³  ì™„ì „íˆ ì‚¬ë¼ì§€ëŠ” ë° ê±¸ë¦° ì‹œê°„ë§Œí¼, ë‚´ ì„¸ìƒë„ í•¨ê»˜ ë¹›ì„ ìƒì–´ê°”ë‹¤.<br>
              ê·¸ë‚ , í”„ë¦¬ë§ˆì»¤ ë†ˆë“¤ì´ ëª¨ë“  ê²ƒì„ ì•—ì•„ê°„ ê·¸ ìˆœê°„ì— ë‚´ ì‹œê°„ì€ ì˜ì›íˆ ë©ˆì·„ì–´ì•¼ í–ˆë‹¤.<br>
              ê·¸ëŸ°ë° ì´ì œ ì™€ì„œ... ì´ ë‚¯ì„  <span style="background:linear-gradient(to top, rgba(255,59,59,0.45) 55%, transparent 55%);padding:0 2px;">ì´ë¦„</span>ì€ ëŒ€ì²´ ë­ë€ ë§ì¸ê°€.<br>
              ì´ê±´ ì‹ ì´ ë‚´ë¦° ì €ì£¼ì¸ê°€, ì•„ë‹ˆë©´ ì§ˆ ë‚˜ìœ ë†ë‹´ì¸ê°€.<br><br>
              ë‚œ ê·¸ëŸ´ ìê²©ì´ ì—†ëŠ” ì‚¬ëŒì¸ë°.<br><br>
            </div>
          </div>
        </div>

        <div>
          <div style="width:100%;margin:0 auto;box-sizing:border-box;border-radius:20px;overflow:hidden;position:relative;font-family:'Noto Sans KR',sans-serif;color:#111827;">
            <div style="position:absolute;top:0;left:0;right:0;bottom:0;background: linear-gradient(144deg, rgba(255, 255, 255, 0.95) 0%, rgb(228, 228, 228) 100%);"></div>

            <div style="position:relative;padding:20px 18px 20px 18px;box-sizing:border-box;display:flex;flex-wrap:wrap;gap:18px;align-items:center;justify-content:space-between;align-content:center;">

              <div style="flex:1 1 320px;min-width:260px;display:flex;align-items:flex-end;justify-content:center;">
                <div style="width:100%;max-width:380px;border-radius:22px;background: linear-gradient(135deg, #f8fb12, #ff4da5, #1fe8ff);padding:6px;box-sizing:border-box;box-shadow:0 12px 28px rgba(15,23,42,0.45);position:relative;overflow:hidden;">
                  <div id="patternGif" style="position:absolute;top:0;left:0;right:0;bottom:0;background:url('https://i.pinimg.com/originals/ac/75/a6/ac75a62b02930b0936230e995a6962b2.gif') repeat;background-size:160px;mix-blend-mode:multiply;pointer-events:none;"></div>

                  <div style="border-radius:18px;background:radial-gradient(circle at top,#1f2937 0,#020617 55%,#020617 100%);padding:10px 10px 12px 10px;box-sizing:border-box;display:flex;flex-direction:column;align-items:stretch;position:relative;overflow:hidden;">

                    <div style="display:flex;justify-content:flex-end;">
                      <div id="rankText" contenteditable="true"
                           style="padding:2px 7px;border-radius:8px;color:#fbbf24;font-size:32px;font-weight:800;letter-spacing:0.5px;text-shadow:-1px 0 #ffffff,1px 0 #000,0 1px #000,0 -1px #000,0 0 6px rgba(251,191,36,0.8); font-family: Impact, sans-serif;">
                        S Rank
                      </div>
                    </div>

                    <div id="profileBg" style="margin-top:10px;border-radius:14px;background:url('https://cdn.caveduck.io/cdn-cgi/image/dpr=2,f=auto,w=500/charim/e0ced288-81ac-4ee3-a37b-577499e416f2?v=17652048340000') no-repeat bottom center/cover;padding:10px 6px 8px 6px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;position:relative;">

                      <div id="heroTag" contenteditable="true"
                           style="position:absolute;top:8px;left:10px;padding:2px 6px;border-radius:999px;background:rgba(15,23,42,0.85);border:1px solid rgba(148,163,184,0.7);font-size:9px;color:#e5e7eb;font-weight:700;letter-spacing:0.5px;">
                        HERO : TASER
                      </div>

                      <img id="charImg"
                           style="display:block;width:100%;max-width:240px;height:auto;border-radius:12px;background-color:transparent !important;filter:drop-shadow(0 4px 10px rgba(15,23,42,0.45));margin-left:-40px;"
                           alt="ìºë¦­í„° ì´ë¯¸ì§€"
                           src="https://cdn.caveduck.io/cdn-cgi/image/dpr=2,f=auto,w=500/charim/9f577ff3-c4e4-406b-9511-aa47e711b570?v=17653413600000">

                      <div id="emoji1" style="position:absolute;top:60px;left:110%;font-size:30px;animation:tada 2s infinite;margin-left:-120px;">ğŸ’¦</div>
                      <div id="emoji2" style="position:absolute;top:220px;right:80%;font-size:30px;animation:tada 2s infinite;margin-left:-120px;">ğŸ¬</div>
                      <div id="emoji3" style="position:absolute;top:340px;left:110%;font-size:30px;animation:tada 2s infinite;margin-left:-120px;">ğŸ </div>
                    </div>

                    <div style="margin-top:8px;border-radius:12px;background:linear-gradient(90deg,#0f172a,#020617);padding:6px 8px 7px 8px;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;box-shadow:0 -1px 0 rgba(148,163,184,0.4),0 6px 10px rgba(0,0,0,0.6);">
                      <div>
                        <p id="nameKr" contenteditable="true"
                           style="margin:0;font-size:19px;font-weight:900;color:#fef3c7;text-shadow:-1px 0 #000,1px 0 #000,0 1px #000,0 -1px #000,0 0 6px rgba(251,191,36,0.8);letter-spacing:1px;">
                          í…Œì´ì €
                        </p>
                        <p id="subtitle" contenteditable="true" style="margin:1px 0 0 0;font-size:10px;color:#9ca3af;">
                          Taser Â· Sê¸‰ ì´ˆëŠ¥ë ¥ ë³´ìœ  íˆì–´ë¡œ
                        </p>
                      </div>

                      <div style="display:flex;flex-direction:column;align-items:flex-end;font-size:9px;gap:3px;">
                        <span id="roleTag" contenteditable="true" style="padding:3px 8px;border-radius:999px;background:#eef2ff;color:#3730a3;font-weight:800;letter-spacing:0.5px;">ROLE Â· HERO</span>
                        <span id="dangerTag" contenteditable="true" style="padding:3px 8px;border-radius:999px;background:#fee2e2;color:#b91c1c;font-weight:800;letter-spacing:0.5px;">DANGER Â· S</span>
                      </div>
                    </div>

                    <div id="footerLine" contenteditable="true" style="margin-top:5px;text-align:right;font-size:8px;color:#9ca3af;">
                      <span style="letter-spacing:1px;text-transform:uppercase;">AEGIS Domion Headquarters</span>
                    </div>
                  </div>
                </div>
              </div>

              <div style="flex:1 1 380px;min-width:280px;display:flex;flex-direction:column;gap:10px;">
                <div style="border-radius:18px;background:#fdfdfd;box-shadow:0 10px 24px rgba(148,163,184,0.35);border:1px solid #e5e7eb;padding:20px 14px 14px 14px;box-sizing:border-box;position:relative;background-image:linear-gradient(to right, rgba(148,163,184,0.18) 1px, transparent 1px),linear-gradient(to bottom, rgba(148,163,184,0.16) 1px, transparent 1px);background-size:18px 18px;">

                  <div style="position:absolute;top:-6px;left:50%;transform:translateX(-50%);width:74px;height:16px;border-radius:999px;background:linear-gradient(180deg,#e5e7eb,#9ca3af);box-shadow:0 2px 4px rgba(15,23,42,0.35);border:1px solid rgba(107,114,128,0.9);"></div>

                  <div style="margin-top:20px;display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:10px;">
                    <div>
                      <p id="codeNameLine" contenteditable="true" style="margin:0;font-size:22px;font-weight:900;letter-spacing:1px;color:#0f172a; font-family: Impact, sans-serif;">CODE NAME : TASER</p>
                      <p id="profileSub" contenteditable="true" style="margin:2px 0 0 0;font-size:11px;color:#6b7280;">íˆì–´ë¡œ í”„ë¡œí•„ / ê¸°ë³¸ ì •ë³´</p>
                    </div>
                    <div style="display:flex;gap:6px;align-items:center;font-size:10px;">
                      <span id="activeTag" contenteditable="true" style="padding:4px 10px;border-radius:999px;background:#e0f2fe;color:#0369a1;font-weight:700;">ACTIVE</span>
                    </div>
                  </div>

                  <div style="display:flex;gap:6px;margin-bottom:10px;border-radius:999px;background:#e5e7eb;padding:3px;box-sizing:border-box;font-size:11px;font-weight:700;color:#6b7280;">
                    <span contenteditable="true" style="flex:1 1 auto;text-align:center;border-radius:999px;background:#ffffff;color:#0f172a;padding:5px 0;">ê¸°ë³¸ ì •ë³´</span>
                    <span contenteditable="true" style="flex:1 1 auto;text-align:center;border-radius:999px;padding:5px 0;opacity:0.6;">ëŠ¥ë ¥ì¹˜</span>
                    <span contenteditable="true" style="flex:1 1 auto;text-align:center;border-radius:999px;padding:5px 0;opacity:0.6;">ìŠ¤í‚¬</span>
                  </div>

                  <div>
                    <div id="symbolBg" style="background:url('https://cdn.caveduck.io/cdn-cgi/image/anim=true,f=auto,w=800/charim/91c0f01e-e0d9-4c82-a941-ed58b6a10ca0') center/contain no-repeat;width:100%;height:160px;margin:20px 0;mix-blend-mode:multiply;"></div>
                  </div>

                  <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px;">
                    <div style="flex:1 1 80px;min-width:80px;border-radius:10px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 8px;box-sizing:border-box;font-size:11px;color:#4b5563;display:flex;justify-content:space-between;align-items:center;">
                      <span contenteditable="true">ë³¸ëª…</span><span id="realName" contenteditable="true" style="font-weight:700;color: var(--point-color);">ë§ˆë¥´í¬ ë¤¼ì‹œì—</span>
                    </div>
                    <div style="flex:1 1 45px;min-width:50px;border-radius:10px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 8px;box-sizing:border-box;font-size:11px;color:#4b5563;display:flex;justify-content:space-between;align-items:center;">
                      <span contenteditable="true">ë‚˜ì´</span><span id="age" contenteditable="true" style="font-weight:700;color: var(--point-color);">42ì„¸</span>
                    </div>
                    <div style="flex:1 1 50px;min-width:70px;border-radius:10px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 8px;box-sizing:border-box;font-size:11px;color:#4b5563;display:flex;justify-content:space-between;align-items:center;">
                      <span contenteditable="true">ì‹ ë¶„</span><span id="status" contenteditable="true" style="font-weight:700;color: var(--point-color);">ë¯¼ê°„ì¸</span>
                    </div>
                    <div style="flex:1 1 80px;min-width:80px;border-radius:10px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 8px;box-sizing:border-box;font-size:11px;color:#4b5563;display:flex;justify-content:space-between;align-items:center;">
                      <span contenteditable="true">ë“±ê¸‰</span><span id="grade" contenteditable="true" style="font-weight:700;color: var(--point-color);">S â†’ D</span>
                    </div>
                  </div>

                  <div style="border-radius:12px;background:#f9fafb;border:1px solid #e5e7eb;padding:8px 10px;box-sizing:border-box;font-size:12px;color:#4b5563;">
                    <p contenteditable="true" style="margin:0 0 4px 0;font-size:11px;font-weight:700;color:#6b7280;">ì¢…í•© ì†Œê²¬</p>
                    <p id="overall" contenteditable="true" style="margin:0 0 2px 0; line-height:1.7;">
                      ë„ë¯¸ì˜¨ ë‚´ <span style="color: var(--point-color);font-weight:700;">ìœ ì¼ë¬´ì´ì˜ ê²°ê³„ ì´ˆëŠ¥ë ¥ì.</span> ì „ì„±ê¸°ì—ëŠ” â€˜ì™„ì „ ë´‰ì¸ ê²°ê³„â€™ë¡œ ì „ì¥ì„ ë‹¨ë… ë´‰ì‡„í•˜ë©° ìµœê³ ì˜ ê²°ê³„ íˆì–´ë¡œë¡œ ë¶ˆë ¸ë‹¤.<br>
                      ê·¸ëŸ¬ë‚˜ 30ëŒ€ ì´ˆì¤‘ë°˜ ë¬´ë µ í”„ë¦¬ë§ˆì»¤ì˜ ëŒ€ê·œëª¨ í…ŒëŸ¬ë¡œ ë©”ì´íŠ¸ì˜€ë˜ <span style="color: var(--point-color);font-weight:700;">ì•„ë‚´ë¥¼ ìƒì€ ì´í›„</span>, ì£„ì±…ê°ê³¼ íŠ¸ë¼ìš°ë§ˆê°€ ëŠ¥ë ¥ì„ ë¶•ê´´ì‹œì¼°ë‹¤.<br>
                      í˜„ì¬ ê²°ê³„ ë°œë™ ì‹œ ì‚¬ë§í•œ ì•„ë‚´ì˜ í™˜ê°ê³¼ ê·¹ì‹¬í•œ ì´ëª…ì´ ë™ë°˜ë˜ë©°, ë²”ìœ„Â·ê°•ë„Â·ì§€ì† ì‹œê°„ì´ ê¸‰ê°í•´ 1ë¶„ ë‚´ì™¸ë¡œ ìœ ì§€ë˜ëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ë–¨ì–´ì ¸ <span style="color: var(--point-color);font-weight:700;">Dê¸‰ íŒì •</span>ì„ ë°›ì•˜ë‹¤.<br>
                      ì€í‡´ í›„ ë¯¼ê°„ì¸ìœ¼ë¡œ ì‚´ì•„ê°€ì§€ë§Œ, ì—ì´ì €ìŠ¤ ì‹œì ˆ í›ˆë ¨ìœ¼ë¡œ ê·¼ë ¥Â·ì²´ë ¥Â·ì§€êµ¬ë ¥ ë“± ì‹ ì²´ ëŠ¥ë ¥ì€ ì¼ë°˜ì¸ì„ ìƒíšŒí•œë‹¤.
                    </p>
                  </div>

                  <div style="margin-top:8px;display:flex;flex-wrap:wrap;gap:8px;">
                    <div style="flex:1 1 150px;min-width:150px;border-radius:12px;background:#ffffff;border:1px solid #e5e7eb;padding:8px 10px;box-sizing:border-box;font-size:12px;color:#4b5563;">
                      <p contenteditable="true" style="margin:0 0 4px 0;font-size:11px;font-weight:700;color:#6b7280;">ì™¸ëª¨</p>
                      <p id="appearance" contenteditable="true" style="margin:0 0 2px 0; line-height:1.7;">
                        í‚¤ 194cm, ë“¬ì§í•œ ì²´êµ¬<br>
                        í–‡ë¹›ì´ ë¹„ì¹˜ë©´ ì„ì–‘ë¹›ì´ ê°ë„ëŠ” ë¶€ë“œëŸ¬ìš´ ê°ˆìƒ‰ ë¨¸ë¦¬, ë…¹ì•ˆ. ì–´ë”˜ê°€ í”¼ë¡œí•´ ë³´ì´ëŠ” ì¸ìƒ.<br>
                        ê²€ì •Â·ê°ˆìƒ‰Â·ì¹´í‚¤ ê³„ì—´ì˜ ì˜·ì„ ì¦ê²¨ ì…ëŠ”ë‹¤.<br>
                        í™œë™ì„± ì¢‹ì€ ì°©ì¥ì„ ì„ í˜¸í•œë‹¤.<br>
                      </p>
                    </div>

                    <div style="flex:1 1 150px;min-width:150px;border-radius:12px;background:#ffffff;border:1px solid #e5e7eb;padding:8px 10px;box-sizing:border-box;font-size:12px;color:#4b5563;">
                      <p contenteditable="true" style="margin:0 0 4px 0;font-size:11px;font-weight:700;color:#6b7280;">ì´ˆëŠ¥ë ¥</p>
                      <p id="ability" contenteditable="true" style="margin:0 0 2px 0; line-height:1.7;">
                        <span style="color: var(--point-color);font-weight:700;">Sceau Parfait(ì˜ íŒŒë¥´í˜) Â· ê²°ê³„ ê³„ì—´</span><br>
                        ì™¸ë¶€ ì„¸ê³„ì™€ ì™„ì „íˆ ë‹¨ì ˆëœ ê³µê°„ì„ í˜•ì„±í•˜ëŠ” â€˜ì™„ì „ ë´‰ì¸ ê²°ê³„â€™.<br>
                        ê²°ê³„ì— ê°‡íŒ ëŒ€ìƒì€ ì¶œì… ë¶ˆê°€ëŠ¥, ëŠ¥ë ¥ ì‚¬ìš© ì œí•œ, ì‹œê°„ ì²´ê° ì™œê³¡ì„ ê²ªìœ¼ë©°, ê²°ê³„ ìœ ì§€ ì¤‘ì—ëŠ” ë‚´ë¶€ ìƒíƒœê°€ ì „ë©´ í†µì œëœë‹¤.<br>
                        â€¢ ê³µê°„ ë‹¨ìœ„ ë´‰ì‡„: ë°˜ê²½ ìˆ˜ì‹­ ë¯¸í„° ì™„ì „ ì°¨ë‹¨<br>
                        â€¢ ëŠ¥ë ¥ ê°„ì„­ ì°¨ë‹¨: ê²°ê³„ ë‚´ë¶€ ëŠ¥ë ¥ ë¹„í™œì„±í™” (ì˜ˆì™¸: ë³¸ì¸)<br>
                        â€¢ ì‹œê°„ ê°ì†: ì²´ê° ì‹œê°„ ì €í•˜ë¥¼ ì˜ì§€ë¡œ ì„¤ì • ê°€ëŠ¥<br>
                        â€¢ íŒ¨ë„í‹°: ì‚¬ìš© í›„ ì²´ë ¥Â·ì •ì‹ ë ¥ ê·¹ì†Œëª¨<br>
                        â€¢ ì¡°ê±´: ê³ ë„ì˜ ì§‘ì¤‘ë ¥ í•„ìš”, ê°ì •ì´ ë¬´ë„ˆì§€ë©´ ìœ ì§€ ë¶ˆê°€<br><br>
                        í˜„ì¬ëŠ” íŠ¸ë¼ìš°ë§ˆë¡œ ë°œë™ ì‹œ í™˜ê°ê³¼ ì´ëª…ì´ ë™ë°˜ë˜ë©°, ë²”ìœ„Â·ê°•ë„ ê°ì†Œ + ì§€ì† ì‹œê°„ 1ë¶„ ë‚´ì™¸ë¡œ ê¸‰ê°í•´ Dê¸‰ íŒì •.
                      </p>
                    </div>
                  </div>

                  <div style="margin-top:8px;display:flex;flex-wrap:wrap;gap:8px;">
                    <div style="flex:1 1 150px;min-width:150px;border-radius:12px;background:#f9fafb;border:1px solid #e5e7eb;padding:8px 10px;box-sizing:border-box;font-size:12px;color:#4b5563;">
                      <p contenteditable="true" style="margin:0 0 4px 0;font-size:11px;font-weight:700;color:#6b7280;">ì„±ê²©</p>
                      <p id="personality" contenteditable="true" style="margin:0 0 2px 0; line-height:1.7;">
                        ëŠ˜ í”¼ë¡œì— ì ˆì—¬ì§„ë“¯í•œ íƒœë„. ê¹Œì¹ í•˜ë‹¤.<br>
                        ê·€ì°®ì€ ê±´ ë”± ì§ˆìƒ‰ì´ì§€ë§Œ ê°€ë” ë¬¼ëŸ¬ì§ˆ ë•Œë„ ìˆë‹¤.<br>
                        íƒ€ì¸ê³¼ ê±°ë¦¬ë¥¼ ë‘ë ¤í•œë‹¤.
                      </p>
                    </div>

                    <div style="flex:1 1 150px;min-width:150px;border-radius:12px;background:#f9fafb;border:1px solid #e5e7eb;padding:8px 10px;box-sizing:border-box;font-size:12px;color:#4b5563;">
                      <p contenteditable="true" style="margin:0 0 4px 0;font-size:11px;font-weight:700;color:#6b7280;">íŠ¹ì§•</p>
                      <p id="features" contenteditable="true" style="margin:0 0 2px 0; line-height:1.7;">
                        ì£„ì±…ê°ê³¼ ìŠ¬í””ì„ í•„ì‚¬ì ìœ¼ë¡œ ìˆ¨ê¸´ë‹¤. ë‚®ì€ ìì¡´ê°.<br>
                        <span style="color: var(--point-color);font-weight:700;">ë„¤ì„ ìœ„ì¹˜ëŠ” ì˜¤ë¥¸ìª½ ì˜†êµ¬ë¦¬</span><br>
                        <span style="color: var(--point-color);font-weight:700;">íˆíŠ¸í´ ì–µì œì œ ë³µìš©</span><br>
                        ì•„ë¬´ë°ì„œë‚˜ ì˜ ì”ë‹¤.<br><br>
                        ì‹«ì–´í•˜ëŠ” ê²ƒ: ë‹¨ ê²ƒ, í—ˆìš¸ë¿ì¸ ìœ„ë¡œ, ê·€ì°®ì€ ê²ƒ<br>
                        ì¢‹ì•„í•˜ëŠ” ê²ƒ: ë°¤ê±°ë¦¬ ì‚°ì±…, ì—ìŠ¤í”„ë ˆì†Œ
                      </p>
                    </div>

                    <div style="flex:1 1 150px;min-width:150px;border-radius:12px;background:#f9fafb;border:1px solid #e5e7eb;padding:8px 10px;box-sizing:border-box;font-size:12px;color:#4b5563;">
                      <p contenteditable="true" style="margin:0 0 4px 0;font-size:11px;font-weight:700;color:#6b7280;">ê¸°íƒ€</p>
                      <p id="etc" contenteditable="true" style="margin:0 0 2px 0; line-height:1.7;">
                        30ëŒ€ ì¤‘ë°˜ í”„ë¦¬ë§ˆì»¤ì˜ ëŒ€ê·œëª¨ í…ŒëŸ¬ë¡œ ì•„ë‚´(ë©”ì´íŠ¸)ë¥¼ ìƒìŒ. ì´í›„ ì—ì´ì €ìŠ¤ë¥¼ ë‚˜ì™€ ì€í‡´.<br>
                        ì „ì²˜ì˜ ì‚¬ë§ í›„ ëª¸ì— ê°ì¸ëœ ì „ì²˜ì˜ ì´ë¦„ì€ íšŒìƒ‰ìœ¼ë¡œ ë°”ë˜ ì‚¬ë¼ì¡Œì§€ë§Œ, ìµœê·¼ì—ëŠ” {{user}}ì˜ ì´ë¦„ì´ ìƒˆê²¨ì§„ ìƒíƒœ.<br><br>
                        ì¤‘ì‹¬ì§€ì—ì„œ ì¡°ê¸ˆ ë²—ì–´ë‚œ í•œì í•œ ë§ˆì„ì˜ ë¹Œë¼ì—ì„œ ì‚°ë‹¤. ìƒí™œê° ê±°ì˜ ì—†ìœ¼ë©° ëƒ‰ì¥ê³ ì— ìƒìˆ˜ì™€ ìˆ ë§Œ ìˆë‹¤.
                      </p>
                    </div>
                  </div>

                </div>
              </div>

            </div>
          </div>
        </div>

      </div>
      <!-- ====== EXPORT TARGET END ====== -->
    </div>
  </main>
</div>

<div id="toast" class="toast">ë³µì‚¬ ì™„ë£Œ! ğŸ’—</div>

<script>
  const $ = (sel) => document.querySelector(sel);

  const defaults = {
    facadeBg: "https://cdn.caveduck.io/cdn-cgi/image/dpr=2,f=auto,w=800/charim/e75c48c5-b0ea-4849-92fc-c517ba2d528c?v=3c3a2e",
    facadeTitle: "FACADE",
    patternGif: "https://i.pinimg.com/originals/ac/75/a6/ac75a62b02930b0936230e995a6962b2.gif",
    profileBg: "https://cdn.caveduck.io/cdn-cgi/image/dpr=2,f=auto,w=500/charim/e0ced288-81ac-4ee3-a37b-577499e416f2?v=17652048340000",
    charImg: "https://cdn.caveduck.io/cdn-cgi/image/dpr=2,f=auto,w=500/charim/9f577ff3-c4e4-406b-9511-aa47e711b570?v=17653413600000",
    symbolBg: "https://cdn.caveduck.io/cdn-cgi/image/anim=true,f=auto,w=800/charim/91c0f01e-e0d9-4c82-a941-ed58b6a10ca0",
    emoji1: "ğŸ’¦",
    emoji2: "ğŸ¬",
    emoji3: "ğŸ "
  };

  function setBg(el, url){
    if(!url) return;
    el.style.background = `url('${url}') center/cover no-repeat`;
  }
  function setBgContain(el, url){
    if(!url) return;
    el.style.background = `url('${url}') center/contain no-repeat`;
  }

  function applyInputs(){
    const facadeUrl = $("#inFacadeBg").value.trim();
    const facadeTitle = $("#inFacadeTitle").value;
    const patternGif = $("#inPatternGif").value.trim();
    const profileUrl = $("#inProfileBg").value.trim();
    const charUrl = $("#inCharImg").value.trim();
    const symbolUrl = $("#inSymbolBg").value.trim();
    const e1 = $("#inEmoji1").value;
    const e2 = $("#inEmoji2").value;
    const e3 = $("#inEmoji3").value;

    if (facadeUrl) setBg($("#facadeBg"), facadeUrl);
    if (patternGif) $("#patternGif").style.backgroundImage = `url('${patternGif}')`;
    if (profileUrl) setBg($("#profileBg"), profileUrl);
    if (charUrl) $("#charImg").src = charUrl;
    if (symbolUrl) setBgContain($("#symbolBg"), symbolUrl);

    if (facadeTitle !== "") $("#facadeTitle").textContent = facadeTitle;

    if (e1 !== "") $("#emoji1").textContent = e1;
    if (e2 !== "") $("#emoji2").textContent = e2;
    if (e3 !== "") $("#emoji3").textContent = e3;
  }

  function bindLive(){
    ["#inFacadeBg","#inFacadeTitle","#inPatternGif","#inProfileBg","#inCharImg","#inSymbolBg","#inEmoji1","#inEmoji2","#inEmoji3"]
      .forEach(id => $(id).addEventListener("input", applyInputs));
  }

  function showToast(msg){
    const t = $("#toast");
    t.textContent = msg;
    t.classList.add("on");
    setTimeout(() => t.classList.remove("on"), 900);
  }

  function normalizeEditable(root){
    // contenteditableì—ì„œ ë¶™ì—¬ë„£ê¸° ì‹œ ìŠ¤íƒ€ì¼ í­ì£¼ ë°©ì§€: "ê°€ëŠ¥í•˜ë©´ í…ìŠ¤íŠ¸ë§Œ"ìœ¼ë¡œ
    root.querySelectorAll('[contenteditable="true"]').forEach(el => {
      el.addEventListener("paste", (e) => {
        e.preventDefault();
        const text = (e.clipboardData || window.clipboardData).getData("text/plain");
        insertTextAtCursor(text);
      });

      // Enter => <br>
      el.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          insertBrAtCursor();
        }
      });
    });
  }

  function insertBrAtCursor(){
    const sel = window.getSelection();
    if(!sel || sel.rangeCount === 0) return;
    const range = sel.getRangeAt(0);
    const br = document.createElement("br");
    range.deleteContents();
    range.insertNode(br);

    // ì»¤ì„œ ë‹¤ìŒ ìœ„ì¹˜ë¡œ
    range.setStartAfter(br);
    range.setEndAfter(br);
    sel.removeAllRanges();
    sel.addRange(range);
  }

  function insertTextAtCursor(text){
    const sel = window.getSelection();
    if(!sel || sel.rangeCount === 0) return;
    const range = sel.getRangeAt(0);
    range.deleteContents();
    const node = document.createTextNode(text);
    range.insertNode(node);
    range.setStartAfter(node);
    range.setEndAfter(node);
    sel.removeAllRanges();
    sel.addRange(range);
  }

  function getExportHTML(){
  const root = $("#exportRoot").cloneNode(true);

  root.querySelectorAll("[contenteditable]").forEach(el => el.removeAttribute("contenteditable"));
  root.querySelectorAll(".editableHint").forEach(el => el.remove());

  const POINT_COLOR = getComputedStyle(document.documentElement)
    .getPropertyValue("--point-color")
    .trim();

  root.querySelectorAll("*").forEach(el => {
    if (!el.style) return;
    if (el.style.color === "var(--point-color)") el.style.color = POINT_COLOR;
    if (el.style.backgroundColor === "var(--point-color)") el.style.backgroundColor = POINT_COLOR;
    if (el.style.borderColor === "var(--point-color)") el.style.borderColor = POINT_COLOR;
  });

  return root.innerHTML.trim();
}


  async function copyExport(){
    const html = getExportHTML();
    try{
      await navigator.clipboard.writeText(html);
      showToast("ë³µì‚¬ ì™„ë£Œ! ğŸ’—");
    } catch (err){
      // fallback
      const ta = document.createElement("textarea");
      ta.value = html;
      ta.style.position = "fixed";
      ta.style.left = "-9999px";
      document.body.appendChild(ta);
      ta.select();
      document.execCommand("copy");
      document.body.removeChild(ta);
      showToast("ë³µì‚¬ ì™„ë£Œ! ğŸ’—");
    }
  }

  function resetAll(){
    $("#inFacadeBg").value = defaults.facadeBg;
    $("#inFacadeTitle").value = defaults.facadeTitle;
    $("#inPatternGif").value = defaults.patternGif;
    $("#inProfileBg").value = defaults.profileBg;
    $("#inCharImg").value = defaults.charImg;
    $("#inSymbolBg").value = defaults.symbolBg;
    $("#inEmoji1").value = defaults.emoji1;
    $("#inEmoji2").value = defaults.emoji2;
    $("#inEmoji3").value = defaults.emoji3;
    setPointColor(POINT_BLUE);
    applyInputs();
    showToast("ë¦¬ì…‹í–ˆì–´ âœ¨");
  }

  const POINT_BLUE = "#1d4ed8";
const POINT_PINK = "#e03a53";

function applyToggleExtras(isBlue){
  // 1) ACTIVE íƒœê·¸ ìŠ¤íƒ€ì¼ ìŠ¤ìœ„ì¹˜
  const active = $("#activeTag");
  if (active){
    if (isBlue){
      active.style.background = "#e0f2fe";
      active.style.color = "#0369a1";
      active.style.fontWeight = "700";
      // contenteditable ìœ ì§€í•˜ë ¤ê³  ê±´ë“œë¦¬ì§€ ì•ŠìŒ
    } else {
      active.style.background = "#ffe4e6";
      active.style.color = "#e03a53";
      active.style.fontWeight = "700";
    }
  }

  // 2) ìƒë‹¨ FACADE íƒ€ì´í‹€ ìŠ¤íƒ€ì¼ ìŠ¤ìœ„ì¹˜
  const title = $("#facadeTitle");
  if (title){
    if (isBlue){
      // ì›ë˜(ë…¸ë‘ FACADE)
      title.style.bottom = "17%";
      title.style.right = "4%";
      title.style.color = "#fbbf24";
      title.style.fontFamily = "Impact, sans-serif";
      title.style.textShadow = "-1px 0 #ffffff, 1px 0 #000, 0 1px #000, 0 -1px #000, 0 0 6px rgba(251,191,36,0.8)";
    } else {
      // PINK ëª¨ë“œì¼ ë•Œ: ë¹¨ê°• PAWN ëŠë‚Œ ìŠ¤íƒ€ì¼
      title.style.bottom = "16%";
      title.style.right = "9%";
      title.style.color = "#d60000";
      title.style.fontFamily = "Impact, sans-serif";
      title.style.textShadow = "-1px 0 #ffffff, 1px 0 #000, 0 1px #fff7f7, 0 -1px #5b0000, 0 0 6px rgba(255,255,255,0.8)";
    }

    // ê³µí†µ ì†ì„±(í˜¹ì‹œ ëˆ„ê°€ ê±´ë“œë ¸ì„ ë•Œ ë³µêµ¬)
    title.style.position = "absolute";
    title.style.fontSize = "6vmax";
    title.style.fontWeight = "800";
    title.style.letterSpacing = "0.5px";
  }
}

function setPointColor(hex){
  document.documentElement.style.setProperty("--point-color", hex);
  const isBlue = hex.toLowerCase() === POINT_BLUE;
  $("#btnTogglePoint").textContent = "í¬ì¸íŠ¸ì»¬ëŸ¬: " + (isBlue ? "BLUE" : "PINK");
  applyToggleExtras(isBlue);
}

$("#btnTogglePoint").addEventListener("click", () => {
  const cur = getComputedStyle(document.documentElement).getPropertyValue("--point-color").trim().toLowerCase();
  setPointColor(cur === POINT_BLUE ? POINT_PINK : POINT_BLUE);
});


  // init
  bindLive();
  normalizeEditable($("#exportRoot"));

  $("#btnCopy").addEventListener("click", copyExport);
  $("#btnReset").addEventListener("click", resetAll);

  resetAll();
</script>
</body>
</html>
